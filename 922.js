"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[922],{2800:(e,t,r)=>{r.d(t,{q:()=>u});var n=r(7896),o=r(2784),i=r(6666),a=r(2955);class c extends a.Mesh{constructor(){super(new a.BoxGeometry(1,1,1),c.material)}}function l(e,t,r=new a.Vector3){const n=Math.PI*(e-.5),o=2*Math.PI*(t-.5);return r.x=Math.cos(o),r.y=Math.sin(n),r.z=Math.sin(o),r}(0,i.Z)(c,"SkyShader",{uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new a.Vector3},up:{value:new a.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")}),(0,i.Z)(c,"material",new a.ShaderMaterial({name:"SkyShader",fragmentShader:c.SkyShader.fragmentShader,vertexShader:c.SkyShader.vertexShader,uniforms:a.UniformsUtils.clone(c.SkyShader.uniforms),side:a.BackSide,depthWrite:!1}));const u=o.forwardRef((({inclination:e=.6,azimuth:t=.1,distance:r=1e3,mieCoefficient:i=.005,mieDirectionalG:u=.8,rayleigh:s=.5,turbidity:f=10,sunPosition:m=l(e,t),...v},d)=>{const h=o.useMemo((()=>(new a.Vector3).setScalar(r)),[r]),[p]=o.useState((()=>new c));return o.createElement("primitive",(0,n.Z)({dispose:void 0,object:p,ref:d,"material-uniforms-mieCoefficient-value":i,"material-uniforms-mieDirectionalG-value":u,"material-uniforms-rayleigh-value":s,"material-uniforms-sunPosition-value":m,"material-uniforms-turbidity-value":f,scale:h},v))}))},8922:(e,t,r)=>{r.r(t),r.d(t,{default:()=>H});var n=r(2784),o=r(3747),i=r(2800),a=r(7896),c=r(6666),l=r(2955);class u extends l.EventDispatcher{constructor(e,t){super(),(0,c.Z)(this,"camera",void 0),(0,c.Z)(this,"domElement",void 0),(0,c.Z)(this,"isLocked",!1),(0,c.Z)(this,"minPolarAngle",0),(0,c.Z)(this,"maxPolarAngle",Math.PI),(0,c.Z)(this,"changeEvent",{type:"change"}),(0,c.Z)(this,"lockEvent",{type:"lock"}),(0,c.Z)(this,"unlockEvent",{type:"unlock"}),(0,c.Z)(this,"euler",new l.Euler(0,0,0,"YXZ")),(0,c.Z)(this,"PI_2",Math.PI/2),(0,c.Z)(this,"vec",new l.Vector3),(0,c.Z)(this,"onMouseMove",(e=>{if(!1===this.isLocked)return;const t=e.movementX||e.mozMovementX||e.webkitMovementX||0,r=e.movementY||e.mozMovementY||e.webkitMovementY||0;this.euler.setFromQuaternion(this.camera.quaternion),this.euler.y-=.002*t,this.euler.x-=.002*r,this.euler.x=Math.max(this.PI_2-this.maxPolarAngle,Math.min(this.PI_2-this.minPolarAngle,this.euler.x)),this.camera.quaternion.setFromEuler(this.euler),this.dispatchEvent(this.changeEvent)})),(0,c.Z)(this,"onPointerlockChange",(()=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(this.lockEvent),this.isLocked=!0):(this.dispatchEvent(this.unlockEvent),this.isLocked=!1)})),(0,c.Z)(this,"onPointerlockError",(()=>{console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")})),(0,c.Z)(this,"connect",(()=>{this.domElement.ownerDocument.addEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError)})),(0,c.Z)(this,"disconnect",(()=>{this.domElement.ownerDocument.removeEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError)})),(0,c.Z)(this,"dispose",(()=>{this.disconnect()})),(0,c.Z)(this,"getObject",(()=>this.camera)),(0,c.Z)(this,"direction",new l.Vector3(0,0,-1)),(0,c.Z)(this,"getDirection",(e=>e.copy(this.direction).applyQuaternion(this.camera.quaternion))),(0,c.Z)(this,"moveForward",(e=>{this.vec.setFromMatrixColumn(this.camera.matrix,0),this.vec.crossVectors(this.camera.up,this.vec),this.camera.position.addScaledVector(this.vec,e)})),(0,c.Z)(this,"moveRight",(e=>{this.vec.setFromMatrixColumn(this.camera.matrix,0),this.camera.position.addScaledVector(this.vec,e)})),(0,c.Z)(this,"lock",(()=>{this.domElement.requestPointerLock()})),(0,c.Z)(this,"unlock",(()=>{this.domElement.ownerDocument.exitPointerLock()})),void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),this.domElement=t,this.camera=e,this.connect()}}const s=n.forwardRef((({selector:e,onChange:t,onLock:r,onUnlock:i,...c},l)=>{const{camera:s,...f}=c,m=(0,o.Ky)((({gl:e})=>e)),v=(0,o.Ky)((({camera:e})=>e)),d=(0,o.Ky)((({invalidate:e})=>e)),h=s||v,[p]=n.useState((()=>new u(h,m.domElement)));return n.useEffect((()=>{const e=e=>{d(),t&&t(e)};return null==p||null==p.addEventListener||p.addEventListener("change",e),r&&(null==p||null==p.addEventListener||p.addEventListener("lock",r)),i&&(null==p||null==p.addEventListener||p.addEventListener("unlock",i)),()=>{null==p||null==p.removeEventListener||p.removeEventListener("change",e),r&&(null==p||null==p.addEventListener||p.addEventListener("lock",r)),i&&(null==p||null==p.addEventListener||p.addEventListener("unlock",i))}}),[t,r,i,p,d]),n.useEffect((()=>{const t=()=>null==p?void 0:p.lock(),r=e?Array.from(document.querySelectorAll(e)):[document];return r.forEach((e=>e&&e.addEventListener("click",t))),()=>{r.forEach((e=>e?e.removeEventListener("click",t):void 0))}}),[p,e]),p?n.createElement("primitive",(0,a.Z)({ref:l,dispose:void 0,object:p},f)):null}));var f=r(248),m=r(1281);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t,r,i=(0,f.xK)((function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({rotation:[-Math.PI/2,0,0]},e)})),a=(t=i,r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],c=(0,o.U2)(l.TextureLoader,m.Z);return c.wrapS=c.wrapT=l.RepeatWrapping,n.createElement("mesh",{ref:a,receiveShadow:!0},n.createElement("planeGeometry",{args:[1e3,1e3]}),n.createElement("meshStandardMaterial",{map:c,"map-repeat":[240,240],color:"green"}))},b=r(6727);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function E(e){var t=(0,n.useRef)(),o=(0,b.L)(r(6502).Z),i=o.nodes,a=o.materials;return n.createElement("group",g({ref:t,dispose:null},e),n.createElement("group",{rotation:[0,Math.PI/1.8,-.3],scale:.5},n.createElement("mesh",{geometry:i.Mesh_1001_1.geometry,material:a.material_2}),n.createElement("mesh",{geometry:i.Mesh_1001_2.geometry,material:a.material_3})))}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump"},M=function(e){return x[e]},L=new l.Vector3,A=new l.Vector3,C=new l.Vector3,Z=new l.Vector3,I=new l.Vector3,D=function(e){var t,r,i,a=(0,n.useRef)(),c=j((0,f.Eo)((function(){return P({mass:10,type:"Dynamic",position:[0,10,0]},e)})),2),u=c[0],s=c[1],m=(r=(t=j((0,n.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1}),2))[0],i=t[1],(0,n.useEffect)((function(){var e=function(e){return i((function(t){return P(P({},t),{},O({},M(e.code),!0))}))},t=function(e){return i((function(t){return P(P({},t),{},O({},M(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),r),v=m.forward,d=m.backward,h=m.left,p=m.right,y=m.jump,b=(0,o.Ky)().camera,g=(0,n.useRef)([0,0,0]);return(0,n.useEffect)((function(){return s.velocity.subscribe((function(e){return g.current=e}))}),[]),(0,o.xQ)((function(e){u.current.getWorldPosition(b.position),A.set(0,0,Number(d)-Number(v)),C.set(Number(h)-Number(p),0,0),L.subVectors(A,C).normalize().multiplyScalar(5).applyEuler(b.rotation),I.fromArray(g.current),a.current.children[0].rotation.x=l.MathUtils.lerp(a.current.children[0].rotation.x,Math.sin((I.length()>1)*e.clock.elapsedTime*10)/6,.1),a.current.rotation.copy(b.rotation),a.current.position.copy(b.position).add(b.getWorldDirection(Z).multiplyScalar(1)),s.velocity.set(L.x,g.current[1],L.z),y&&Math.abs(g.current[1].toFixed(2))<.05&&s.velocity.set(g.current[0],10,g.current[2])})),n.createElement(n.Fragment,null,n.createElement("mesh",{ref:u}),n.createElement("group",{ref:a,onPointerMissed:function(e){return a.current.children[0].rotation.x=-.5}},n.createElement(E,{position:[.3,-.35,.5]})))},T=r(2467);const R=r.p+"59ed32793c180834b389d961c26f010c.jpg";function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=(0,T.Z)((function(e){return{cubes:[[0,.5,-10]],addCube:function(t,r,n){return e((function(e){return{cubes:[].concat(N(e.cubes),[[t,r,n]])}}))}}})),X=function(){return G((function(e){return e.cubes})).map((function(e,t){return n.createElement(K,{key:t,position:e})}))},K=function(e){var t=(0,f.EJ)((function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"Static"},e)})),r=F(t,1)[0],i=F((0,n.useState)(null),2),a=i[0],c=i[1],u=G((function(e){return e.addCube})),s=(0,o.U2)(l.TextureLoader,R),m=(0,n.useCallback)((function(e){return e.stopPropagation(),c(Math.floor(e.faceIndex/2))}),[]),v=(0,n.useCallback)((function(){return c(null)}),[]),d=(0,n.useCallback)((function(e){e.stopPropagation();var t=r.current.position,n=t.x,o=t.y,i=t.z,a=[[n+1,o,i],[n-1,o,i],[n,o+1,i],[n,o-1,i],[n,o,i+1],[n,o,i-1]];u.apply(void 0,N(a[Math.floor(e.faceIndex/2)]))}),[]);return n.createElement("mesh",{ref:r,receiveShadow:!0,castShadow:!0,onPointerMove:m,onPointerOut:v,onClick:d},N(Array(6)).map((function(e,t){return n.createElement("meshStandardMaterial",{attachArray:"material",key:t,map:s,color:a===t?"hotpink":"white"})})),n.createElement("boxGeometry",null))},q=r(9059);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y(){return n.createElement(o.Xz,{shadows:!0,gl:{alpha:!1},camera:{fov:45},raycaster:{computeOffsets:function(e){return{offsetX:e.target.width/2,offsetY:e.target.height/2}}}},n.createElement(i.q,{sunPosition:[100,10,100]}),n.createElement("ambientLight",{intensity:.3}),n.createElement("pointLight",{castShadow:!0,intensity:.8,position:[100,100,100]}),n.createElement(f.wI,{gravity:[0,-30,0]},n.createElement(y,null),n.createElement(D,null),n.createElement(X,null)),n.createElement(s,null))}function H(){var e,t,r=(e=(0,n.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return n.createElement(n.Fragment,null,n.createElement(Y,null),!o&&n.createElement("div",{className:q.Z.overlay},n.createElement("div",null,"â† Click the dot to start",n.createElement("br",null),n.createElement("span",{style:{marginLeft:18}},"Needs fullscreen to work!"))),n.createElement("div",{className:q.Z.dot,style:{pointerEvents:o?"none":"all"},onClick:function(){return i(!0)}}))}},3536:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var n=r(9601),o=r.n(n),i=r(2609),a=r.n(i)()(o());a.push([e.id,".a9zlyri3MV8XElG0g6Is{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(39,39,48,.7529411765);display:flex;align-items:center;justify-content:center}.a9zlyri3MV8XElG0g6Is>div{position:relative;margin-top:15px;margin-left:280px;background:#000;color:#fff;padding:10px 20px;border-radius:5px}.IpLqNk1dMdNLjF7mwNb3{position:absolute;top:50%;left:50%;width:10px;height:10px;border-radius:50%;transform:translate3d(-50%, -50%, 0);cursor:pointer;border:2px solid #fff}",""]),a.locals={overlay:"a9zlyri3MV8XElG0g6Is",dot:"IpLqNk1dMdNLjF7mwNb3"};const c=a},6502:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"9fbbc709221b32ae5003163ce9f8f129.glb"},1281:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"eb5fc8ebf9c7a590fb3977d00d47e6ff.jpg"},9059:(e,t,r)=>{r.d(t,{Z:()=>E});var n=r(6062),o=r.n(n),i=r(4036),a=r.n(i),c=r(6793),l=r.n(c),u=r(7892),s=r.n(u),f=r(1173),m=r.n(f),v=r(2464),d=r.n(v),h=r(3536),p={};p.styleTagTransform=d(),p.setAttributes=s(),p.insert=l().bind(null,"head"),p.domAPI=a(),p.insertStyleElement=m();var y=o()(h.default,p);if(!h.default.locals||e.hot.invalidate){var b=!h.default.locals,g=b?h:h.default.locals;e.hot.accept(3536,(t=>{h=r(3536),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(g,b?h:h.default.locals,b)?(g=b?h:h.default.locals,y(h.default)):e.hot.invalidate()}))}e.hot.dispose((function(){y()}));const E=h.default&&h.default.locals?h.default.locals:void 0},6666:(e,t,r)=>{function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>n})}}]);