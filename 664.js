(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[664],{5664:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(2784);const s=(0,a.createContext)(),r=({children:e})=>{const[t,n]=(0,a.useState)({}),r=(0,a.useRef)();var u="ongamepadconnected"in window;const d=e=>{n({...t,[e.index]:{buttons:e.buttons,id:e.id,axes:e.axes}})},o=e=>{d(e.gamepad)},c=()=>{for(var e=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():[],t=0;t<e.length;t++)e[t]&&d(e[t])};(0,a.useEffect)((()=>(window.addEventListener("gamepadconnected",o),window.removeEventListener("gamepadconnected",o))));const l=e=>{u||c(),r.current=requestAnimationFrame(l)};return(0,a.useEffect)((()=>(r.current=requestAnimationFrame(l),()=>cancelAnimationFrame(r.current))),[]),function(e,t){const n=(0,a.useRef)();(0,a.useEffect)((()=>{n.current=e}),[e]),(0,a.useEffect)((()=>{{let e=setInterval((function(){n.current()}),t);return()=>clearInterval(e)}}),[t])}((()=>{u||c()}),1e3),a.createElement(s.Provider,{value:{gamepads:t,setGamepads:n}},e)},u=({top:e,left:t,pressed:n})=>a.createElement("div",{style:{width:"50px",height:"50px",backgroundColor:n?"red":"teal",position:"fixed",top:e,left:t}}),d=()=>{const[e,t]=(0,a.useState)(Math.round(window.innerHeight/2)),[n,r]=(0,a.useState)(Math.round(window.innerWidth/2)),[d,o]=(0,a.useState)(!1),{gamepads:c}=(0,a.useContext)(s);return(0,a.useEffect)((()=>{const e=Object.keys(c).length>0?c[0]:{};"buttons"in e&&(e.buttons[12].pressed&&t((e=>e-1)),e.buttons[13].pressed&&t((e=>e+1)),e.buttons[14].pressed&&r((e=>e-1)),e.buttons[15].pressed&&r((e=>e+1)),e.buttons[3].pressed?o(!0):o(!1)),"axes"in e&&(-.2>e.axes[1]>.2&&t((e=>e-1)),.2>e.axes[1]<.2&&t((e=>e+1)),-.2>e.axes[0]>.2&&r((e=>e-1)),.2>e.axes[0]<.2&&r((e=>e+1)))}),[c]),a.createElement(u,{top:e,left:n,pressed:d})};function o(){return a.createElement(r,null,a.createElement("div",{className:"App"},a.createElement(d,null),a.createElement(s.Consumer,null,(({gamepads:e})=>{const t=Object.keys(e).map((t=>a.createElement("div",{key:t},a.createElement("h2",null,e[t].id),e[t].buttons&&e[t].buttons.map(((e,t)=>a.createElement("div",{key:t},t,": ",e.pressed?"True":"False"))))));return a.createElement("div",null,a.createElement("h3",null,"Is the button pressed?:"," ",e&&e.length>0&&e.buttons.length>0&&e[0].buttons[3].pressed?"True":"False"),a.createElement("div",{className:"Gamepads"},a.createElement("h1",null,"Gamepads"),t))}))))}}}]);